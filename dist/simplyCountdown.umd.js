!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("simplyCountdown",t):(e="undefined"!=typeof globalThis?globalThis:e||self).simplyCountdown=t()}(this,(function(){"use strict";const e=(e,t,n,o,s,a)=>{const r=document.createElement("div");r.className=`${e} ${a.sectionClass}`;const l=document.createElement("div"),d=document.createElement("span"),i=document.createElement("span");return d.className=`${t} ${a.amountClass}`,i.className=`${n} ${a.wordClass}`,d.textContent=String(o),i.textContent=s,l.appendChild(d),l.appendChild(i),r.appendChild(l),r},t={year:2024,month:12,day:25,hours:0,minutes:0,seconds:0,words:{days:{lambda:(e,t)=>t>1?e+"s":e,root:"day"},hours:{lambda:(e,t)=>t>1?e+"s":e,root:"hour"},minutes:{lambda:(e,t)=>t>1?e+"s":e,root:"minute"},seconds:{lambda:(e,t)=>t>1?e+"s":e,root:"second"}},plural:!0,inline:!1,inlineSeparator:", ",enableUtc:!1,onEnd:()=>{},refresh:1e3,inlineClass:"simply-countdown-inline",sectionClass:"simply-section",amountClass:"simply-amount",wordClass:"simply-word",zeroPad:!1,countUp:!1,removeZeroUnits:!1,onStop:()=>{},onResume:()=>{},onUpdate:()=>{}};function n(e,t,n){return!n.removeZeroUnits||(0!==e.value||t.some((e=>0!==e.value)))}function o(e,t,o){const s=e.filter(((o,s)=>n(o,e.slice(0,s),t))).map((e=>function(e,t){return`${t.zeroPad?String(e.value).padStart(2,"0"):e.value} ${t.words[e.word].lambda(t.words[e.word].root,e.value)}`}(e,t))).join(t.inlineSeparator);o.innerHTML=s}function s(e,t,o){e.forEach(((s,a)=>{"seconds"===s.word||n(s,e.slice(0,a),t)?(((e,t,n)=>{const o=e.querySelector(".simply-amount"),s=e.querySelector(".simply-word");o&&(o.textContent=String(t)),s&&(s.textContent=n)})(o[s.word],t.zeroPad?String(s.value).padStart(2,"0"):s.value,t.words[s.word].lambda(t.words[s.word].root,s.value)),o[s.word].style.display=""):o[s.word].style.display="none"}))}const a=(t,n)=>{let a={isPaused:!1,interval:null,targetDate:new Date};const r=e=>e.enableUtc?new Date(Date.UTC(e.year,e.month-1,e.day,e.hours,e.minutes,e.seconds)):new Date(e.year,e.month-1,e.day,e.hours,e.minutes,e.seconds);a.targetDate=r(n);let l=null;n.inline&&(l=document.createElement("span"),l.className=n.inlineClass,t.appendChild(l));const d=n.inline?null:((t,n)=>{const o="simply-amount",s="simply-word",a=e("simply-section simply-days-section",o,s,0,"day",n),r=e("simply-section simply-hours-section",o,s,0,"hour",n),l=e("simply-section simply-minutes-section",o,s,0,"minute",n),d=e("simply-section simply-seconds-section",o,s,0,"second",n);return t.appendChild(a),t.appendChild(r),t.appendChild(l),t.appendChild(d),{days:a,hours:r,minutes:l,seconds:d}})(t,{sectionClass:n.sectionClass,amountClass:n.amountClass,wordClass:n.wordClass}),i=()=>{const e=n.enableUtc?new Date(Date.UTC((new Date).getUTCFullYear(),(new Date).getUTCMonth(),(new Date).getUTCDate(),(new Date).getUTCHours(),(new Date).getUTCMinutes(),(new Date).getUTCSeconds())):new Date;let t=n.countUp?e.getTime()-a.targetDate.getTime():a.targetDate.getTime()-e.getTime();t<=0&&!n.countUp&&(t=0,clearInterval(a.interval),n.onEnd&&n.onEnd());const r=Math.floor(t/864e5);t-=1e3*r*60*60*24;const i=Math.floor(t/36e5);t-=1e3*i*60*60;const u=Math.floor(t/6e4);t-=1e3*u*60;const c=Math.floor(t/1e3);if(n.inline&&l){o([{value:r,word:"days"},{value:i,word:"hours"},{value:u,word:"minutes"},{value:c,word:"seconds"}],n,l)}else if(d){s([{value:r,word:"days"},{value:i,word:"hours"},{value:u,word:"minutes"},{value:c,word:"seconds"}],n,d)}},u=()=>{a.interval=setInterval(i,n.refresh),i()};u();const c=new MutationObserver((e=>{e.forEach((e=>{e.removedNodes.forEach((e=>{e===t&&(null!==a.interval&&clearInterval(a.interval),c.disconnect())}))}))}));return t.parentNode&&c.observe(t.parentNode,{childList:!0}),{stopCountdown:()=>{var e;null!==a.interval&&(clearInterval(a.interval),a.interval=null),a.isPaused=!0,null==(e=n.onStop)||e.call(n)},resumeCountdown:()=>{var e;a.isPaused&&(u(),a.isPaused=!1,null==(e=n.onResume)||e.call(n))},updateCountdown:e=>{var t;Object.assign(n,e),void 0===e.year&&void 0===e.month&&void 0===e.day&&void 0===e.hours&&void 0===e.minutes&&void 0===e.seconds||(a.targetDate=r(n)),null==(t=n.onUpdate)||t.call(n,e),a.isPaused||(a.interval&&clearInterval(a.interval),u())},getState:()=>({...a})}},r=e=>{const t=e;return t.stopCountdown=()=>e.forEach((e=>e.stopCountdown())),t.resumeCountdown=()=>e.forEach((e=>e.resumeCountdown())),t.updateCountdown=t=>e.forEach((e=>e.updateCountdown(t))),t.getState=()=>e.map((e=>e.getState())),t},l=(e,n=t)=>{const o={...t,...n};if("string"==typeof e){const t=document.querySelectorAll(e),n=Array.from(t).map((e=>a(e,o)));return 1===n.length?n[0]:r(n)}if((e=>e instanceof NodeList)(e)){const t=Array.from(e).map((e=>a(e,o)));return 1===t.length?t[0]:r(t)}return a(e,o)};return"function"==typeof define&&define.amd?define((function(){return l})):"object"==typeof module&&module.exports?module.exports=l:window.simplyCountdown=l,l}));
//# sourceMappingURL=simplyCountdown.umd.js.map
